; Typesense Server Configuration
; Production configuration with Vietnamese language support

[server]

; Network Configuration
api-address = 0.0.0.0
api-port = 8108
peering-address = 0.0.0.0
peering-port = 8107

; Data Storage
data-dir = /var/lib/typesense

; Authentication
api-key = ${TYPESENSE_API_KEY}

; Logging
log-level = info
log-dir = /var/log/typesense

; CORS Configuration
enable-cors = true
cors-domains = https://*.vercel.app,http://localhost:3000,http://localhost:3001

; Performance Settings
thread-pool-size = 0  ; Auto-detect based on CPU cores
num-memory-shards = 4
cache-num-entries = 1000000

; Search Configuration
default-search-cutoff-ms = 100
search-cutoff-ms = 200
max-per-page = 250

; Collection Settings
enable-nested-fields = true

; Vietnamese Language Support
; Typesense handles Unicode and Vietnamese diacritics natively
; These settings optimize for Vietnamese text processing
enable-search-analytics = true
typo-tokens-threshold = 1
drop-tokens-threshold = 1

; SSL Configuration (if using direct SSL instead of reverse proxy)
ssl-certificate = 
ssl-certificate-key = 
ssl-refresh-interval-seconds = 86400

; Clustering (for future scaling)
nodes = 

; Snapshot Configuration
snapshot-interval-seconds = 3600
snapshot-max-byte-size-per-sync = 1073741824

; Health Check
health-check-interval-seconds = 60

; Resource Limits
max-memory-ratio = 0.85
disk-quota-mb = 0  ; Unlimited

; Request Configuration
enable-access-logging = true
enable-search-logging = false  ; Enable for debugging
request-timeout-ms = 30000
connection-timeout-ms = 10000